<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="utf-8">
  <title>Cuaderno de Bitácora</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cardo:ital,wght@0,400;0,700;1,400&family=Google+Sans+Code:ital,wght@0,300..800;1,300..800&family=Libre+Baskerville:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <!--<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@24,400,0,0&icon_names=routine" />-->
  <link rel="stylesheet" href="http://localhost/style.css"> <!-- Importante porque depende de la dirección donde se sirve -->
  <script>
    MathJax = {
      tex: {
        inlineMath: {'[+]': [['$', '$']]}
      },
      svg: {
        fontCache: 'global'
      },
      output: {
        font: 'mathjax-stix2'
      }
    };
    </script>
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@4/tex-mml-chtml.js"></script>
</head>

<body>
  <script>
    const LOCAL_STORAGE_KEY_THEME = 'theme';
  
    const THEME_VALUE_AUTO  = 'auto';
    const THEME_VALUE_DARK  = 'dark';
    const THEME_VALUE_LIGHT = 'light';
  
    const THEME_CLASS_DARK            = 'dark';           // activates dark mode styling
    const THEME_CLASS_DARK_OVERRIDE   = 'dark_override';  // slides toggle to dark mode
    const THEME_CLASS_LIGHT           = 'light';          // here for consistency, but has no real effect
    const THEME_CLASS_LIGHT_OVERRIDE  = 'light_override'; // slides toggle to light mode
  
    const THEME_CLASS_ALL = Object.freeze([
        THEME_CLASS_DARK,
        THEME_CLASS_DARK_OVERRIDE,
        THEME_CLASS_LIGHT,
        THEME_CLASS_LIGHT_OVERRIDE,
    ])
  
    function setDocumentClasses(...classes) {
        THEME_CLASS_ALL.forEach((themeClass) => {
            if (classes.includes(themeClass)) {
                document.documentElement.classList.add(themeClass)
            } else {
                document.documentElement.classList.remove(themeClass)
            }
        })
    }
  
    function setThemeFromLocalStorageOrMediaPreference() {
      console.log("hola")
  
      const theme = localStorage.getItem(LOCAL_STORAGE_KEY_THEME) || THEME_VALUE_AUTO
  
      switch (theme) {
          case THEME_VALUE_AUTO:
              if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
                  setDocumentClasses(THEME_CLASS_DARK)
              } else if (window.matchMedia('(prefers-color-scheme: light)').matches) {
                  setDocumentClasses(THEME_CLASS_LIGHT)
              }
              break
  
          case THEME_VALUE_DARK:
              setDocumentClasses(THEME_CLASS_DARK, THEME_CLASS_DARK_OVERRIDE)
              break
  
          case THEME_VALUE_LIGHT:
              setDocumentClasses(THEME_CLASS_LIGHT, THEME_CLASS_LIGHT_OVERRIDE)
              break
      }
  
      console.log(`theme is: ${theme}`)
    }
  
    function incrementTheme() {
      const theme = localStorage.getItem(LOCAL_STORAGE_KEY_THEME) || THEME_VALUE_AUTO
  
      switch (theme) {
          case THEME_VALUE_AUTO:
              localStorage.setItem(LOCAL_STORAGE_KEY_THEME, THEME_VALUE_DARK)
              break
  
          case THEME_VALUE_DARK:
              localStorage.setItem(LOCAL_STORAGE_KEY_THEME, THEME_VALUE_LIGHT)
              break
  
          case THEME_VALUE_LIGHT:
              localStorage.removeItem(LOCAL_STORAGE_KEY_THEME)
              break
      }
  
      setThemeFromLocalStorageOrMediaPreference()
      changeButtonText()
    }
  
    // Listen for local storage changes on our theme key. This lets
    // one tab to be notified if the theme is changed in another,
    // and update itself accordingly.
    window.addEventListener("storage", (e) => {
        if (e.key == LOCAL_STORAGE_KEY_THEME) {
            setThemeFromLocalStorageOrMediaPreference()
        }
    })
  
    // Watch for OS-level changes in preference for light/dark mode.
    // This will trigger for example if a user explicitly changes
    // their OS-level light/dark configuration, or on sunrise/sunset
    // if they have it set to automatic.
    window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', e => {
        setThemeFromLocalStorageOrMediaPreference()
    })
  
    setThemeFromLocalStorageOrMediaPreference()
  </script>
  

<main>
  <div class="container">
    <h1 class="header_archive">Notas</h1>
    <ul class="blog_container">
      <!-- If you are using pagination, section.pages will be empty.
           You need to use the paginator object -->  
      <!--
      <li class="blog_item">
        <p class="date">2025-09-14</p>
        <a href="http://localhost/notas/grothendieck-topologies-descent/" class="title">Topologías de Grothendieck y descenso</a>
        <p class="reading_time"> 4 min</p>
      </li>
      -->
      
        <p class="subtext_archive">Escrito el 14 de September de 2025. Lectura en 4 min.</p>
        <a href="http://localhost/notas/grothendieck-topologies-descent/" class="link_archive">Topologías de Grothendieck y descenso</a>
      
    </ul>
  </div>
</main>

 <!--
<footer>
  <div class="footer_container">
    <p>
      Copyright Pablo Nicolás 2025
    </p>
    <p>
      Built using <a href="https://www.getzola.org/documentation/content/sass/">Zola</a>.
    </p>
  </div>
</footer>
-->


</body>

<script>
  // From https://stackoverflow.com/questions/65942968/storing-and-retrieving-a-theme-in-javascript-from-a-data-attribute

  const container = document.documentElement;

  // This function will execute itself when the script is loaded
  // https://developer.mozilla.org/en-US/docs/Glossary/IIFE
  // you might want to wait for the whole page to load instead 
  // https://stackoverflow.com/q/1033398/6398325
  (function(){
      // Then set the 'data-theme' attribute to whatever is in localStorage      
      // the line below is commented because stackoverflow won't allow using localStorage on snippets
      // container.setAttribute('data-theme', localStorage.getItem('theme'));    
  })();

  function switchTheme() {

    // Check what is the current theme and get the opposite one
    const targetTheme = container.getAttribute('data-theme') === 'dark' ? 'light' : 'dark';

    // Set the attribute 'data-theme' to the targetTheme
    container.setAttribute('data-theme', targetTheme);

    // Save the targetTheme to the localStorage
    // the line below is commented because stackoverflow won't allow using localStorage on snippets
    localStorage.setItem('theme', targetTheme);
  }
</script>

</html>